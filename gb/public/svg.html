<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <style>
    .top{position:absolute;left:0;right:0;top:0;bottom:0;background:#000;display:none;opacity:0.5;z-index:10;}
    .top.active{display:block;}
  </style>
</head>
<body>
  <div style="width:800px;margin:0 auto;position: relative;">
    <div class="top"></div>
    <svg width="800" height="450" style="border:1px solid #000;">
        <path d="M50,250 L100,300 150,400" stroke="green" stroke-width="5" fill="none" />
    </svg>
  </div>
  <script>

    let nowTarget = null
    const draw = e => {
      console.log(e.type)
      if (['mouseout', 'mouseup'].indexOf(e.type) !== -1) {
        nowTarget = null
        $('.top').removeClass('active')
        return
      }
      const {left, top} = $(e.currentTarget).offset()
      const {pageX, pageY} = e
      const [x, y] = [pageX - left, pageY - top]
      switch (e.type) {
        case 'mousedown' :
          $('.top').addClass('active')
          nowTarget = document.createElementNS('http://www.w3.org/2000/svg', 'path')
          nowTarget.setAttribute('d', `M${x} ${y}`)
          nowTarget.setAttribute('stroke', `black`)
          nowTarget.setAttribute('stroke-width', `1`)
          nowTarget.setAttribute('fill', `none`)
          e.target.appendChild(nowTarget)
        break;
        case 'mousemove' : 
          if (!nowTarget) return
          const { d } = nowTarget.attributes
          d.value += ` L${x} ${y}`
        break
      }
    }

    $('svg').on('mousedown', draw)
    $('.top').on('mouseup mouseout mousemove', draw)
  </script>
</body>
</html>